@page "/books/create"
@inject IBookRepository BookRepository
@inject NavigationManager uriHelper



<BookForm book="book" ButtonText="Create" OnValidSubmitt="AddNewBook"></BookForm>

@code {
    [CascadingParameter] public Book book { get; set; } = new();

    async Task AddNewBook()
    {
        //if (book.StateId == 0)
        //    book.StateId = 1;
        await BookRepository.AddBookAsync(book);

        uriHelper.NavigateTo("/books/fetchbooks");

    }

}
