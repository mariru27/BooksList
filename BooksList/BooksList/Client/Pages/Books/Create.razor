@page "/books/create"
@inject IBookRepository BookRepository
@inject NavigationManager uriHelper



<BookForm book="book" ButtonText="Create" OnValidSubmitt="AddNewBook"></BookForm>

@code {
    Book book = new();

    async Task AddNewBook()
    {
        State state = await BookRepository.GetStateById(1);
        book.State = state;
        await BookRepository.AddBookAsync(book);

        uriHelper.NavigateTo("/books/fetchbooks");

    }

}
